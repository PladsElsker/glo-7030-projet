{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Download dataset",
            "type": "debugpy",
            "request": "launch",
            "module": "download_datasets",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-o", "/mnt/data/plads/how2sign"
            ]
        },
        {
            "name": "Train SignTerpreter",
            "type": "debugpy",
            "request": "launch",
            "module": "core.train",
            "cwd": "${workspaceFolder}",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--dataset", "/mnt/data/plads/open-asl-dwpose", "--save-checkpoint-directory", "./trained_models", "--batch-size", "2", "--mlflow", "--device", "cuda:4"
            ]
        },
        {
            "name": "Stage 1 UniSign Pretraining",
            "type": "debugpy",
            "request": "launch",
            "program": "venv/bin/deepspeed",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--include", "localhost:4", 
                "--master_port", "29511", 
                "uni_sign/pre_training.py",
                "--batch-size", "16",
                "--gradient-accumulation-steps", "1",
                "--epochs", "20",
                "--opt", "AdamW",
                "--lr", "3e-4",
                "--quick_break", "2048",
                "--output_dir", "uni_sign/out/stage1_pretraining",
                "--dataset", "CSL_Daily"
            ]
        },
        {
            "name": "Stage 3 UniSign Finetuning",
            "type": "debugpy",
            "request": "launch",
            "program": "venv/bin/deepspeed",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--include", "localhost:4", 
                "--master_port", "29511", 
                "uni_sign/fine_tuning.py",
                "--batch-size", "8",
                "--gradient-accumulation-steps", "1",
                "--epochs", "20",
                "--opt", "AdamW",
                "--lr", "3e-4",
                "--output_dir", "uni_sign/out/stage3_finetuning",
                "--dataset", "CSL_Daily",
                "--task", "SLT",
            ]
        }
    ]
}
